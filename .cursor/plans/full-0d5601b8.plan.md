<!-- 0d5601b8-44dd-445b-9216-a28d47049cb9 4fd08f5d-b855-427c-b620-833b9abd20cd -->
# Plan maintenance Next.js

## Étapes

1. Audit des dépendances et upgrade

- Vérifier les versions compat Next.js/React/Tailwind et mettre à jour `package.json` (`next@latest`, `react@latest`, `react-dom@latest`, utilitaires). 
- Installer `typescript`, `@types/react`, `@types/node`, autres typings nécessaires (`@types/three`, `@types/react-three__fiber`, etc.).
- Mettre à jour scripts (`lint`, `build`, `type-check`) et lancer `npx next lint --fix`.

2. Migration Next.js et configuration commune

- Suivre changelog Next.js (app router) : ajuster `next.config.js`, supprimer `images.unoptimized`, activer optimisation (`images.remotePatterns` si besoin).
- Mettre à jour `postcss.config.js`, `tailwind.config.js` si requis par nouvelles versions.
- Ajouter `tsconfig.json` (mode non strict), convertir `jsconfig.json` si encore nécessaire pour alias.

3. Conversion TypeScript du code

- Renommer les fichiers `.jsx` en `.tsx`, adapters `components/`, `app/`, `hoc/`, `data/`, `utils/`.
- Typage des props et hooks personnalisés, créer types centralisés (`types/` ou `@/types`).
- Résoudre erreurs TS et ESLint, ajuster import/export (notamment modules three.js, EmailJS, etc.).

4. Optimisation des images et assets

- Remplacer usages `img`/`Image` custom par `next/image`, configurer `fill`/`priority` selon cas.
- Optimiser assets statiques lourds (WebP si utile) et déplacer vers `public/` si plus logique.

5. Conteneurisation Docker

- Ajouter `Dockerfile` multi-stage (builder + runner) + `.dockerignore`.
- Préparer scripts (`docker build`, `docker run`) et documenter usage dans `README`.

6. Validation finale

- Lancer `npm run lint`, `npm run type-check`, `npm run build`, `npm run start`.
- Tester image Docker (`docker build`, `docker run`) et vérifier rendu local.

## Todos

- deps-upgrade: Mettre à jour dépendances et ajouter TypeScript + typings
- config-migration: Adapter `next.config.js` et configs outillage (PostCSS, Tailwind, tsconfig)
- ts-conversion: Convertir le codebase en TypeScript et corriger erreurs
- image-optim: Revoir usages `next/image` et assets
- docker-setup: Créer pipeline Docker et scripts
- final-qa: Vérifier lint/build, tests manuels, image Docker